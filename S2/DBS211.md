# DBS211   Introduction to Database Systems

- [dbs211.ca](http://dbs211.ca/courses/dbs211/)

- A place to store data, that can extract information.

- 98% involve to database.
- [Clint MacDonald](https://www.linkedin.com/in/clintmacdonald/)
  - 1993 Fortune / Waterloo / No.3 / PhD / Soccer / Referee / Pearl / ML
  - 16 May 1972

## Week1

- Database management system
  - see drawio

- Age --> Date af birth

- Date
  - -200 BC == 2255 ago
    - BC
    - DC
  - Century
    - 1901~2000
    - 2001~2100
  - Leap year
    - 365.249
    - Not 365 366

## Week2

- Table name --> All CAPITAL
- Naming
  - [type] is a key word in software
  - Date + Time --> DateTime
  - ID --> xxxID
- Junction / Bridge Table (Convert "many to many" --> "one to many")
  - 把兩個多對多的關係，新增一個 Table，變成兩個一對多的關係在新的 Table

- Database must work yesterday, today and tomorrow
- One team at a time

## 5 rules of Database

1. Every table must have one and only one primary key (unique identifier)
2. No Repeating Data (Same data same table)
3. No Redundant Data (Same data different table)
4. Do not include calculated fields!(Math, String, dates, concatenation)
5. All fields must be atomic (only one value per cell)

## 5 types of keys

1. PRIMARY KEY
2. FOREIGN KEY - child side of the relationship
3. COMPOSITE KEY - which is a primary key made up of more than one
4. Surrogate key (Replacement to a primary key, but is a Primary key) (Do this after this semester)
5. Candidate Key (Potential Primary key, Never exists in finalized database designs)

## 3 types Relationship

- One to Many (Many to One) - 99.9% of relationships
- Many to Many - CANNOT physically exit / exists in theory, not physically
- One to One - rare but useful for efficiency, non redundancy

## 3 types of Tables

- Data table
- Junction/Bridge table -> simulate to many to many relationships.
- Lookup table

## Referential Integrity

- To ensure the consistency and integrity of the data, avoiding orphan record
  - You can not delete a parent record while children exist.
  - You can not have children unless the parent already exist.
    - Foreign keys may be NULL

## NULLS

- A representation of no knowledge, you do not know the answer or even if an answer exists!

## Week3

- SQL is divided into 3 parts
  - DDL - Data Definition Language (Language of Structure)
  - DML - Data Manipulation Language (Language of Data)
  - TCL - Transaction Control Language (Transactional)

- DML
  - Has 4 part == CRUD
    - Create - INSERTing new rows of data
    - Read - Reading data or calculating info using SELECT
    - Update - Changing existing data using UPDATE
    - Delete - Deleting data using DELETE

- The Basic SELECT statement
  - They are 7 parts to the SELECT
    - WEB211 5
    - WEB311 2

- In Oracle, there are only 1 required parts of the SQL statement
  1. SELECT
  2. FROM (FROM is optional in other )
- There are 3 ways to sort
  - Alphabetical
  - Numeric
  - Chronological

- Order of EXECUTION
  - Don't use alias in `where`
    - Can use in `order`
    - Not run sql code from top to bottom
    - FROM -> WHERE -> SELECT(Last - 1) -> ORDER By(Last)

- No UNDO in Database
  - Only restore from backup

- SQL not case sensitive but string is.
  - 比較的字直接寫大寫或小寫，用 Upper( ) 會每一筆資料都算一次。

- Single quote and double quote
  - ' ' for string <-- Use this
  - " " assign object name <-- Just don' use this
    - If you use once, you need to keep using it.

- Include all column and same order

- Style Guide / Your SQL should be written using the standard coding style:
  - all keywords are to be upper case,
  - all user-defined names are to be lower case, (example: table and field names)
  - there should be a carriage return before each major part of the SQL statements (i.e. before SELECT, FROM, WHERE and ORDER BY)

## Week4 JOINS

- JOINS - there are two types of joins
- OLD and obsolete ("classic") joins - ANSI-89
  - 基本上不用了。
  - 先全部組合出來，再選要的。
  - 量一大就很慢
- The new hotness (current) - ANSI-92

- ANSI-89
  - FROM a, b
    - where
- ANSI-92
  - FROM a (INNER)JOIN b
    - ON

- JOINT 90% represent relationship (Not 100%)

- JOIN will create a new table
- FULL OUTER JOIN can find orphan data

### Random

- update Anomalies
- Audience is software
